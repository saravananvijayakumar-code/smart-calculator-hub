import{j as e}from"./ui-vendor-CXejv-Vd.js";import{r as s}from"./react-vendor-CHV_IW2N.js";import{C as r}from"./CalculatorLayoutWithAds-CDsUxnym.js";import{t as a,a as t,b as n,c as i,e as c,L as l,I as o,B as d}from"./index-Cr6N7EBb.js";import{S as m,a as x,b as u,c as h,d as j}from"./select-y5A4yAFV.js";import{A as p}from"./AIAnalysis-ChREP4Ql.js";import{E as g}from"./ExportShareButtons-DX6PXnyi.js";import{T as v,g as f,N}from"./utils-vendor-D0ROWCy7.js";import"./AdsterraSlot-KARub96N.js";import"./AdsettraSlot-CABtPR7k.js";import"./EnhancedAIAnalysis-DFLR3vnC.js";import"./badge-BR8KeZ6e.js";import"./charts-vendor-CfJeLvg-.js";import"./i18n-vendor-p0y8CAKE.js";import"./tabs-kE7gD3tv.js";function y(){const[y,C]=s.useState("1"),[b,S]=s.useState("USD"),[A,w]=s.useState("EUR"),[D,F]=s.useState(null),[E,R]=s.useState(null),[T,U]=s.useState([]),[k,I]=s.useState(!1),[L,P]=s.useState(null),[B,Y]=s.useState(!0);s.useEffect(()=>{(async()=>{try{const e=await a.exchange.getCurrencies();U(e.currencies)}catch(e){console.error("Failed to load currencies:",e)}})()},[]),s.useEffect(()=>{if(B&&y&&b&&A&&!isNaN(Number(y))){const e=setTimeout(()=>{z()},500);return()=>clearTimeout(e)}},[y,b,A,B]);const z=async()=>{if(!(!y||isNaN(Number(y))||Number(y)<=0)){I(!0);try{const e=await a.exchange.convert({_from:b,to:A,amount:Number(y)});F(e.convertedAmount),R(e.rate),P(new Date(e.lastUpdated))}catch(e){console.error("Conversion failed:",e)}finally{I(!1)}}};return e.jsx(r,{title:"Currency Converter",description:"Convert between 170+ currencies with real-time exchange rates",keywords:"currency converter, exchange rates, forex, currency exchange, real-time rates",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(t,{children:[e.jsx(n,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-5 w-5"}),"Currency Converter",L&&e.jsxs("span",{className:"ml-auto text-sm font-normal text-muted-foreground flex items-center gap-1",children:[e.jsx(f,{className:"h-3 w-3"}),"Updated ",(e=>{const s=(new Date).getTime()-e.getTime(),r=Math.floor(s/1e3),a=Math.floor(r/60);return r<60?`${r}s ago`:a<60?`${a}m ago`:e.toLocaleTimeString()})(L)]})]})}),e.jsxs(c,{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-5 gap-4 items-end",children:[e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(l,{htmlFor:"amount",children:"Amount"}),e.jsx(o,{id:"amount",type:"number",value:y,onChange:e=>C(e.target.value),placeholder:"Enter amount",min:"0",step:"0.01"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"From"}),e.jsxs(m,{value:b,onValueChange:S,children:[e.jsx(x,{children:e.jsx(u,{})}),e.jsx(h,{className:"max-h-60",children:T.map(s=>e.jsx(j,{value:s.code,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:s.code}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s.symbol}),e.jsx("span",{className:"text-xs text-muted-foreground truncate",children:s.name})]})},s.code))})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(d,{variant:"outline",size:"icon",onClick:()=>{S(A),w(b),F(null),R(null)},title:"Swap currencies",children:e.jsx(N,{className:"h-4 w-4"})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"To"}),e.jsxs(m,{value:A,onValueChange:w,children:[e.jsx(x,{children:e.jsx(u,{})}),e.jsx(h,{className:"max-h-60",children:T.map(s=>e.jsx(j,{value:s.code,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:s.code}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s.symbol}),e.jsx("span",{className:"text-xs text-muted-foreground truncate",children:s.name})]})},s.code))})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"autoConvert",checked:B,onChange:e=>Y(e.target.checked),className:"rounded"}),e.jsx(l,{htmlFor:"autoConvert",className:"text-sm",children:"Auto-convert as you type"})]}),!B&&e.jsx(d,{onClick:z,disabled:k,children:k?"Converting...":"Convert"})]}),null!==D&&null!==E&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(p,{analysisRequest:{calculatorType:"currency-converter",data:{fromCurrency:b,toCurrency:A,amount:Number(y),convertedAmount:D,exchangeRate:E,rateDate:L||new Date}},autoRun:!0,title:"AI Currency Analysis",description:"Get insights on exchange rates, market trends, and practical tips for currency conversion."}),e.jsx(g,{calculatorType:"currency-converter",inputs:{amount:Number(y),fromCurrency:b,toCurrency:A},results:{convertedAmount:D,exchangeRate:E,lastUpdated:(null==L?void 0:L.toISOString())||(new Date).toISOString()},title:"Currency Converter Report"}),e.jsx(t,{className:"bg-primary/5",children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-3xl font-bold text-primary",children:[D.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:6})," ",A]}),e.jsxs("div",{className:"text-lg text-muted-foreground",children:[Number(y).toLocaleString()," ",b]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxs("div",{children:["1 ",b," = ",E.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:6})," ",A]}),e.jsxs("div",{children:["1 ",A," = ",(1/E).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:6})," ",b]})]})]})})})]}),k&&e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-primary border-t-transparent rounded-full"}),"Fetching real-time rates..."]})})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(t,{children:[e.jsx(n,{children:e.jsx(i,{children:"About Currency Converter"})}),e.jsxs(c,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Convert between 170+ world currencies using real-time exchange rates. Perfect for travel planning, international business, and investment decisions."}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold",children:"Features:"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:"• Real-time exchange rates"}),e.jsx("li",{children:"• 170+ supported currencies"}),e.jsx("li",{children:"• Auto-conversion as you type"}),e.jsx("li",{children:"• Bidirectional rate display"}),e.jsx("li",{children:"• Professional accuracy"}),e.jsx("li",{children:"• Free to use"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold",children:"Popular Currencies:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs text-muted-foreground",children:[e.jsx("div",{children:"USD - US Dollar"}),e.jsx("div",{children:"EUR - Euro"}),e.jsx("div",{children:"GBP - British Pound"}),e.jsx("div",{children:"JPY - Japanese Yen"}),e.jsx("div",{children:"CAD - Canadian Dollar"}),e.jsx("div",{children:"AUD - Australian Dollar"}),e.jsx("div",{children:"CHF - Swiss Franc"}),e.jsx("div",{children:"CNY - Chinese Yuan"})]})]})]})]}),e.jsxs(t,{children:[e.jsx(n,{children:e.jsx(i,{children:"Exchange Rate Info"})}),e.jsx(c,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Exchange rates are updated in real-time and may fluctuate based on market conditions. Rates shown are for informational purposes and may differ from actual trading rates."})})]})]})]})})}export{y as CurrencyConverter,y as default};
