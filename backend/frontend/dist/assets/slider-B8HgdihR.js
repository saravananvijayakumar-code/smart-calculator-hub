import{u as e,j as t,a as n,c as r,b as o,e as i,f as a,t as l,v as s,A as d,z as u}from"./ui-vendor-CXejv-Vd.js";import{r as c}from"./react-vendor-CHV_IW2N.js";import{f}from"./index-Cr6N7EBb.js";var m=["PageUp","PageDown"],p=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],v={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},h="Slider",[w,g,S]=r(h),[b]=n(h,[S]),[x,y]=b(h),D=c.forwardRef((n,r)=>{const{name:i,min:a=0,max:l=100,step:d=1,orientation:u="horizontal",disabled:f=!1,minStepsBetweenThumbs:v=0,defaultValue:h=[a],value:g,onValueChange:S=()=>{},onValueCommit:b=()=>{},inverted:y=!1,form:D,...j}=n,R=c.useRef(new Set),M=c.useRef(0),P="horizontal"===u?_:E,[A=[],K]=e({prop:g,defaultProp:h,onChange:e=>{var t;null==(t=[...R.current][M.current])||t.focus(),S(e)}}),z=c.useRef(A);function k(e,t,{commit:n}={commit:!1}){const r=function(e){return(String(e).split(".")[1]||"").length}(d),o=function(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}(Math.round((e-a)/d)*d+a,r),i=s(o,[a,l]);K((e=[])=>{const r=function(e=[],t,n){const r=[...e];return r[n]=t,r.sort((e,t)=>e-t)}(e,i,t);if(function(e,t){if(t>0){const n=function(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}(e);return Math.min(...n)>=t}return!0}(r,v*d)){M.current=r.indexOf(i);const t=String(r)!==String(e);return t&&n&&b(r),t?r:e}return e})}return t.jsx(x,{scope:n.__scopeSlider,name:i,disabled:f,min:a,max:l,valueIndexToChangeRef:M,thumbs:R.current,values:A,orientation:u,form:D,children:t.jsx(w.Provider,{scope:n.__scopeSlider,children:t.jsx(w.Slot,{scope:n.__scopeSlider,children:t.jsx(P,{"aria-disabled":f,"data-disabled":f?"":void 0,...j,ref:r,onPointerDown:o(j.onPointerDown,()=>{f||(z.current=A)}),min:a,max:l,inverted:y,onSlideStart:f?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const n=e.map(e=>Math.abs(e-t)),r=Math.min(...n);return n.indexOf(r)}(A,e);k(e,t)},onSlideMove:f?void 0:function(e){k(e,M.current)},onSlideEnd:f?void 0:function(){const e=z.current[M.current];A[M.current]!==e&&b(A)},onHomeKeyDown:()=>!f&&k(a,0,{commit:!0}),onEndKeyDown:()=>!f&&k(l,A.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!f){const n=m.includes(e.key)||e.shiftKey&&p.includes(e.key)?10:1,r=M.current;k(A[r]+d*n*t,r,{commit:!0})}}})})})})});D.displayName=h;var[j,R]=b(h,{startEdge:"left",endEdge:"right",size:"width",direction:1}),_=c.forwardRef((e,n)=>{const{min:r,max:o,dir:i,inverted:s,onSlideStart:d,onSlideMove:u,onSlideEnd:f,onStepKeyDown:m,...p}=e,[h,w]=c.useState(null),g=a(n,e=>w(e)),S=c.useRef(void 0),b=l(i),x="ltr"===b,y=x&&!s||!x&&s;function D(e){const t=S.current||h.getBoundingClientRect(),n=V([0,t.width],y?[r,o]:[o,r]);return S.current=t,n(e-t.left)}return t.jsx(j,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:t.jsx(M,{dir:b,"data-orientation":"horizontal",...p,ref:g,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const t=D(e.clientX);null==d||d(t)},onSlideMove:e=>{const t=D(e.clientX);null==u||u(t)},onSlideEnd:()=>{S.current=void 0,null==f||f()},onStepKeyDown:e=>{const t=v[y?"from-left":"from-right"].includes(e.key);null==m||m({event:e,direction:t?-1:1})}})})}),E=c.forwardRef((e,n)=>{const{min:r,max:o,inverted:i,onSlideStart:l,onSlideMove:s,onSlideEnd:d,onStepKeyDown:u,...f}=e,m=c.useRef(null),p=a(n,m),h=c.useRef(void 0),w=!i;function g(e){const t=h.current||m.current.getBoundingClientRect(),n=V([0,t.height],w?[o,r]:[r,o]);return h.current=t,n(e-t.top)}return t.jsx(j,{scope:e.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:t.jsx(M,{"data-orientation":"vertical",...f,ref:p,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const t=g(e.clientY);null==l||l(t)},onSlideMove:e=>{const t=g(e.clientY);null==s||s(t)},onSlideEnd:()=>{h.current=void 0,null==d||d()},onStepKeyDown:e=>{const t=v[w?"from-bottom":"from-top"].includes(e.key);null==u||u({event:e,direction:t?-1:1})}})})}),M=c.forwardRef((e,n)=>{const{__scopeSlider:r,onSlideStart:a,onSlideMove:l,onSlideEnd:s,onHomeKeyDown:d,onEndKeyDown:u,onStepKeyDown:c,...f}=e,v=y(h,r);return t.jsx(i.span,{...f,ref:n,onKeyDown:o(e.onKeyDown,e=>{"Home"===e.key?(d(e),e.preventDefault()):"End"===e.key?(u(e),e.preventDefault()):m.concat(p).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:o(e.onPointerDown,e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),v.thumbs.has(t)?t.focus():a(e)}),onPointerMove:o(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&l(e)}),onPointerUp:o(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),s(e))})})}),P="SliderTrack",A=c.forwardRef((e,n)=>{const{__scopeSlider:r,...o}=e,a=y(P,r);return t.jsx(i.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...o,ref:n})});A.displayName=P;var K="SliderRange",z=c.forwardRef((e,n)=>{const{__scopeSlider:r,...o}=e,l=y(K,r),s=R(K,r),d=c.useRef(null),u=a(n,d),f=l.values.length,m=l.values.map(e=>H(e,l.min,l.max)),p=f>1?Math.min(...m):0,v=100-Math.max(...m);return t.jsx(i.span,{"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,...o,ref:u,style:{...e.style,[s.startEdge]:p+"%",[s.endEdge]:v+"%"}})});z.displayName=K;var k="SliderThumb",C=c.forwardRef((e,n)=>{const r=g(e.__scopeSlider),[o,i]=c.useState(null),l=a(n,e=>i(e)),s=c.useMemo(()=>o?r().findIndex(e=>e.ref.current===o):-1,[r,o]);return t.jsx(I,{...e,ref:l,index:s})}),I=c.forwardRef((e,n)=>{const{__scopeSlider:r,index:l,name:s,...u}=e,f=y(k,r),m=R(k,r),[p,v]=c.useState(null),h=a(n,e=>v(e)),g=!p||(f.form||!!p.closest("form")),S=d(p),b=f.values[l],x=void 0===b?0:H(b,f.min,f.max),D=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(l,f.values.length),j=null==S?void 0:S[m.size],_=j?function(e,t,n){const r=e/2,o=V([0,50],[0,r]);return(r-o(t)*n)*n}(j,x,m.direction):0;return c.useEffect(()=>{if(p)return f.thumbs.add(p),()=>{f.thumbs.delete(p)}},[p,f.thumbs]),t.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[m.startEdge]:`calc(${x}% + ${_}px)`},children:[t.jsx(w.ItemSlot,{scope:e.__scopeSlider,children:t.jsx(i.span,{role:"slider","aria-label":e["aria-label"]||D,"aria-valuemin":f.min,"aria-valuenow":b,"aria-valuemax":f.max,"aria-orientation":f.orientation,"data-orientation":f.orientation,"data-disabled":f.disabled?"":void 0,tabIndex:f.disabled?void 0:0,...u,ref:h,style:void 0===b?{display:"none"}:e.style,onFocus:o(e.onFocus,()=>{f.valueIndexToChangeRef.current=l})})}),g&&t.jsx(N,{name:s??(f.name?f.name+(f.values.length>1?"[]":""):void 0),form:f.form,value:b},l)]})});C.displayName=k;var N=c.forwardRef(({__scopeSlider:e,value:n,...r},o)=>{const l=c.useRef(null),s=a(l,o),d=u(n);return c.useEffect(()=>{const e=l.current;if(!e)return;const t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"value").set;if(d!==n&&r){const t=new Event("input",{bubbles:!0});r.call(e,n),e.dispatchEvent(t)}},[d,n]),t.jsx(i.input,{style:{display:"none"},...r,ref:s,defaultValue:n})});function H(e,t,n){return s(100/(n-t)*(e-t),[0,100])}function V(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}N.displayName="RadioBubbleInput";var T=D,L=A,U=z,B=C;function O({className:e,defaultValue:n,value:r,min:o=0,max:i=100,...a}){const l=c.useMemo(()=>Array.isArray(r)?r:Array.isArray(n)?n:[o,i],[r,n,o,i]);return t.jsxs(T,{"data-slot":"slider",defaultValue:n,value:r,min:o,max:i,className:f("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...a,children:[t.jsx(L,{"data-slot":"slider-track",className:f("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:t.jsx(U,{"data-slot":"slider-range",className:f("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:l.length},(e,n)=>t.jsx(B,{"data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},n))]})}export{O as S};
