import{f as e,u as t,j as a,a as r,e as s,b as n,z as c,A as o}from"./ui-vendor-CXejv-Vd.js";import{r as d}from"./react-vendor-CHV_IW2N.js";import{f as i}from"./index-Cr6N7EBb.js";var l="Switch",[u]=r(l),[b,p]=u(l),h=d.forwardRef((r,c)=>{const{__scopeSwitch:o,name:i,checked:u,defaultChecked:p,required:h,disabled:f,value:k="on",onCheckedChange:w,form:v,...x}=r,[y,j]=d.useState(null),S=e(c,e=>j(e)),C=d.useRef(!1),N=!y||(v||!!y.closest("form")),[_,E]=t({prop:u,defaultProp:p??!1,onChange:w,caller:l});return a.jsxs(b,{scope:o,checked:_,disabled:f,children:[a.jsx(s.button,{type:"button",role:"switch","aria-checked":_,"aria-required":h,"data-state":g(_),"data-disabled":f?"":void 0,disabled:f,value:k,...x,ref:S,onClick:n(r.onClick,e=>{E(e=>!e),N&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),N&&a.jsx(m,{control:y,bubbles:!C.current,name:i,value:k,checked:_,required:h,disabled:f,form:v,style:{transform:"translateX(-100%)"}})]})});h.displayName=l;var f="SwitchThumb",k=d.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,c=p(f,r);return a.jsx(s.span,{"data-state":g(c.checked),"data-disabled":c.disabled?"":void 0,...n,ref:t})});k.displayName=f;var m=d.forwardRef(({__scopeSwitch:t,control:r,checked:s,bubbles:n=!0,...i},l)=>{const u=d.useRef(null),b=e(u,l),p=c(s),h=o(r);return d.useEffect(()=>{const e=u.current;if(!e)return;const t=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(t,"checked").set;if(p!==s&&a){const t=new Event("click",{bubbles:n});a.call(e,s),e.dispatchEvent(t)}},[p,s,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:b,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function g(e){return e?"checked":"unchecked"}m.displayName="SwitchBubbleInput";var w=h,v=k;function x({className:e,...t}){return a.jsx(w,{"data-slot":"switch",className:i("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(v,{"data-slot":"switch-thumb",className:i("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}export{x as S};
