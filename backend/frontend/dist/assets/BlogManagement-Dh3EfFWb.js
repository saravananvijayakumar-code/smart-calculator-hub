import{j as e}from"./ui-vendor-CXejv-Vd.js";import{r as t,L as s}from"./react-vendor-CHV_IW2N.js";import{t as a}from"./index-Cr6N7EBb.js";import{o as i,aJ as r,V as l,P as n}from"./utils-vendor-D0ROWCy7.js";import"./charts-vendor-CfJeLvg-.js";import"./i18n-vendor-p0y8CAKE.js";function d(){const[d,x]=t.useState([]),[c,o]=t.useState(!0),[m,h]=t.useState("");t.useEffect(()=>{p()},[]);const p=async()=>{try{o(!0);const e=await a.blog.list({limit:100});x(e.posts)}catch(e){h("Failed to load blog posts"),console.error(e)}finally{o(!1)}};return c?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(i,{className:"w-8 h-8 animate-spin text-indigo-600"})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Blog Management"}),e.jsxs(s,{to:"/admin/blog/new",className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[e.jsx(r,{className:"w-4 h-4 mr-2"}),"New Post"]})]}),m&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:m}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Author"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Created"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.title})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:t.author||"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+(t.published?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:t.published?"Published":"Draft"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(t.created_at).toLocaleDateString()}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx(s,{to:`/admin/blog/edit/${t.slug}`,className:"text-indigo-600 hover:text-indigo-900 mr-4",children:e.jsx(l,{className:"w-4 h-4 inline"})}),e.jsx("button",{onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this post?"))try{await a.blog.remove({slug:e}),x(d.filter(t=>t.slug!==e))}catch(t){h("Failed to delete post"),console.error(t)}})(t.slug),className:"text-red-600 hover:text-red-900",children:e.jsx(n,{className:"w-4 h-4 inline"})})]})]},t.id))})]}),0===d.length&&e.jsx("div",{className:"text-center py-12 text-gray-500",children:"No blog posts yet. Create your first post!"})]})]})})}export{d as default};
