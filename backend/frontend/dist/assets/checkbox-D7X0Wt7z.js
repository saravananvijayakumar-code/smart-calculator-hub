import{j as e,a as r,P as t,e as n,u as o,f as a,b as s,z as d,A as c}from"./ui-vendor-CXejv-Vd.js";import{r as i}from"./react-vendor-CHV_IW2N.js";import{f as u}from"./index-Cr6N7EBb.js";import{at as l}from"./utils-vendor-D0ROWCy7.js";var p="Checkbox",[b]=r(p),[h,f]=b(p);function k(r){const{__scopeCheckbox:t,checked:n,children:a,defaultChecked:s,disabled:d,form:c,name:u,onCheckedChange:l,required:b,value:f="on",internal_do_not_use_render:k}=r,[m,C]=o({prop:n,defaultProp:s??!1,onChange:l,caller:p}),[x,v]=i.useState(null),[g,_]=i.useState(null),y=i.useRef(!1),E=!x||(!!c||!!x.closest("form")),R={checked:m,disabled:d,setChecked:C,control:x,setControl:v,name:u,form:c,value:f,hasConsumerStoppedPropagationRef:y,required:b,defaultChecked:!w(s)&&s,isFormControl:E,bubbleInput:g,setBubbleInput:_};return e.jsx(h,{scope:t,...R,children:j(k)?k(R):a})}var m="CheckboxTrigger",C=i.forwardRef(({__scopeCheckbox:r,onKeyDown:t,onClick:o,...d},c)=>{const{control:u,value:l,disabled:p,checked:b,required:h,setControl:k,setChecked:C,hasConsumerStoppedPropagationRef:x,isFormControl:v,bubbleInput:g}=f(m,r),_=a(c,k),y=i.useRef(b);return i.useEffect(()=>{const e=null==u?void 0:u.form;if(e){const r=()=>C(y.current);return e.addEventListener("reset",r),()=>e.removeEventListener("reset",r)}},[u,C]),e.jsx(n.button,{type:"button",role:"checkbox","aria-checked":w(b)?"mixed":b,"aria-required":h,"data-state":E(b),"data-disabled":p?"":void 0,disabled:p,value:l,...d,ref:_,onKeyDown:s(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:s(o,e=>{C(e=>!!w(e)||!e),g&&v&&(x.current=e.isPropagationStopped(),x.current||e.stopPropagation())})})});C.displayName=m;var x=i.forwardRef((r,t)=>{const{__scopeCheckbox:n,name:o,checked:a,defaultChecked:s,required:d,disabled:c,value:i,onCheckedChange:u,form:l,...p}=r;return e.jsx(k,{__scopeCheckbox:n,checked:a,defaultChecked:s,disabled:c,required:d,onCheckedChange:u,name:o,form:l,value:i,internal_do_not_use_render:({isFormControl:r})=>e.jsxs(e.Fragment,{children:[e.jsx(C,{...p,ref:t,__scopeCheckbox:n}),r&&e.jsx(y,{__scopeCheckbox:n})]})})});x.displayName=p;var v="CheckboxIndicator",g=i.forwardRef((r,o)=>{const{__scopeCheckbox:a,forceMount:s,...d}=r,c=f(v,a);return e.jsx(t,{present:s||w(c.checked)||!0===c.checked,children:e.jsx(n.span,{"data-state":E(c.checked),"data-disabled":c.disabled?"":void 0,...d,ref:o,style:{pointerEvents:"none",...r.style}})})});g.displayName=v;var _="CheckboxBubbleInput",y=i.forwardRef(({__scopeCheckbox:r,...t},o)=>{const{control:s,hasConsumerStoppedPropagationRef:u,checked:l,defaultChecked:p,required:b,disabled:h,name:k,value:m,form:C,bubbleInput:x,setBubbleInput:v}=f(_,r),g=a(o,v),y=d(l),j=c(s);i.useEffect(()=>{const e=x;if(!e)return;const r=window.HTMLInputElement.prototype,t=Object.getOwnPropertyDescriptor(r,"checked").set,n=!u.current;if(y!==l&&t){const r=new Event("click",{bubbles:n});e.indeterminate=w(l),t.call(e,!w(l)&&l),e.dispatchEvent(r)}},[x,y,l,u]);const E=i.useRef(!w(l)&&l);return e.jsx(n.input,{type:"checkbox","aria-hidden":!0,defaultChecked:p??E.current,required:b,disabled:h,name:k,value:m,form:C,...t,tabIndex:-1,ref:g,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function j(e){return"function"==typeof e}function w(e){return"indeterminate"===e}function E(e){return w(e)?"indeterminate":e?"checked":"unchecked"}function R({className:r,...t}){return e.jsx(x,{"data-slot":"checkbox",className:u("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...t,children:e.jsx(g,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:e.jsx(l,{className:"size-3.5"})})})}y.displayName=_;export{R as C};
