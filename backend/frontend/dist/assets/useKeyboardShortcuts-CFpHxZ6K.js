import{r as e}from"./react-vendor-CHV_IW2N.js";function n({onSpace:n,onReset:t,onFullscreen:l,onEscape:c}){const s=e.useCallback(e=>{const s=e.target;if(!("INPUT"===s.tagName||"TEXTAREA"===s.tagName))switch(e.code){case"Space":e.preventDefault(),null==n||n();break;case"KeyR":e.ctrlKey||e.metaKey||(e.preventDefault(),null==t||t());break;case"KeyF":e.ctrlKey||e.metaKey||(e.preventDefault(),null==l||l());break;case"Escape":e.preventDefault(),null==c||c()}},[n,t,l,c]);e.useEffect(()=>(document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)),[s])}function t(n){const[t,l]=e.useState(!1),[c,s]=e.useState(!0);e.useEffect(()=>{(()=>{const e=!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled);s(e)})();const e=()=>{l(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e),()=>{document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e)}},[]);return{isFullscreen:t,toggleFullscreen:e.useCallback(async()=>{if(n.current&&c)try{if(document.fullscreenElement){const e=document;e.exitFullscreen?await e.exitFullscreen():e.webkitExitFullscreen?await e.webkitExitFullscreen():e.mozCancelFullScreen?await e.mozCancelFullScreen():e.msExitFullscreen&&await e.msExitFullscreen()}else{const e=n.current;e.requestFullscreen?await e.requestFullscreen():e.webkitRequestFullscreen?await e.webkitRequestFullscreen():e.mozRequestFullScreen?await e.mozRequestFullScreen():e.msRequestFullscreen&&await e.msRequestFullscreen()}}catch(e){"TypeError"===e.name&&e.message.includes("permissions policy")?console.warn("Fullscreen blocked by permissions policy. This may occur in embedded contexts."):console.error("Error toggling fullscreen:",e)}else console.warn("Fullscreen API is not supported or not allowed by permissions policy")},[n,c]),isSupported:c}}export{n as a,t as u};
