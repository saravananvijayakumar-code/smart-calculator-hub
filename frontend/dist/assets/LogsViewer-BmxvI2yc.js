import{r as e,j as s}from"./ui-DlaF13aT.js";import{l as r,B as a,a7 as l,f as t,g as c,h as i,j as n,O as d,I as o,i as x,P as m,a3 as h,o as j}from"./index-Bz8mWo3A.js";import{B as g}from"./badge-Yxso3t7Q.js";import{S as u,a as v,b as p,c as N,d as y}from"./select-BDFQerag.js";import{T as b}from"./trash-2-BKaciHhd.js";import{F as f}from"./funnel-wo6GB8oP.js";import{C as w}from"./chevron-right-CELwiuPq.js";import{B as L}from"./bug-CIVsg6J5.js";import{C as S}from"./circle-alert-Ce1NvOfa.js";import"./vendor-DjPCVcPo.js";import"./charts-DCG9Wh5P.js";import"./router-CpKuIDSt.js";import"./check-DuVLnFDe.js";
/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=r("skull",[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]]);function C(){const[r,C]=e.useState([]),[E,T]=e.useState(null),[I,A]=e.useState(!0),[D,R]=e.useState("all"),[q,z]=e.useState(""),[B,F]=e.useState(new Set),[M,O]=e.useState(!1),P=async()=>{C([])},U=async()=>{T({totalLogs:0,criticalErrors:0,recentErrors:0,byLevel:{error:0,warn:0,info:0,debug:0,critical:0}})},W=async()=>{A(!0),await Promise.all([P(),U()]),A(!1)};e.useEffect(()=>{W()},[D,q]);const J=e=>{switch(e){case"critical":return s.jsx(k,{className:"w-4 h-4"});case"error":return s.jsx(S,{className:"w-4 h-4"});case"warn":return s.jsx(j,{className:"w-4 h-4"});case"info":return s.jsx(m,{className:"w-4 h-4"});case"debug":return s.jsx(L,{className:"w-4 h-4"})}},V=e=>{switch(e){case"critical":return"bg-red-900 text-white border-red-950";case"error":return"bg-red-100 text-red-800 border-red-200";case"warn":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"info":return"bg-blue-100 text-blue-800 border-blue-200";case"debug":return"bg-gray-100 text-gray-800 border-gray-200"}};return I?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Logs"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor and analyze application errors"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(a,{onClick:async()=>{console.log("Logs service not implemented")},variant:"outline",children:"Test Error"}),s.jsxs(a,{onClick:async()=>{O(!0),await W(),O(!1)},variant:"outline",disabled:M,children:[s.jsx(l,{className:"w-4 h-4 mr-2 "+(M?"animate-spin":"")}),"Refresh"]}),s.jsxs(a,{onClick:async()=>{confirm("Are you sure you want to clear all logs?")&&console.log("Logs service not implemented")},variant:"destructive",children:[s.jsx(b,{className:"w-4 h-4 mr-2"}),"Clear Logs"]})]})]}),E&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs(t,{children:[s.jsx(c,{className:"pb-3",children:s.jsx(i,{className:"text-sm font-medium",children:"Total Logs"})}),s.jsx(n,{children:s.jsx("div",{className:"text-2xl font-bold",children:E.totalLogs.toLocaleString()})})]}),s.jsxs(t,{className:"border-red-200 bg-red-50",children:[s.jsx(c,{className:"pb-3",children:s.jsx(i,{className:"text-sm font-medium text-red-900",children:"Critical"})}),s.jsx(n,{children:s.jsx("div",{className:"text-2xl font-bold text-red-900",children:E.criticalErrors.toLocaleString()})})]}),s.jsxs(t,{className:"border-orange-200 bg-orange-50",children:[s.jsx(c,{className:"pb-3",children:s.jsx(i,{className:"text-sm font-medium text-orange-900",children:"Recent (24h)"})}),s.jsx(n,{children:s.jsx("div",{className:"text-2xl font-bold text-orange-900",children:E.recentErrors.toLocaleString()})})]}),s.jsxs(t,{children:[s.jsx(c,{className:"pb-3",children:s.jsx(i,{className:"text-sm font-medium",children:"Errors"})}),s.jsx(n,{children:s.jsx("div",{className:"text-2xl font-bold",children:E.byLevel.error.toLocaleString()})})]}),s.jsxs(t,{children:[s.jsx(c,{className:"pb-3",children:s.jsx(i,{className:"text-sm font-medium",children:"Warnings"})}),s.jsx(n,{children:s.jsx("div",{className:"text-2xl font-bold",children:E.byLevel.warn.toLocaleString()})})]})]}),s.jsxs(t,{children:[s.jsx(c,{children:s.jsxs(i,{className:"flex items-center gap-2",children:[s.jsx(f,{className:"w-5 h-5"}),"Filters"]})}),s.jsx(n,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(d,{children:"Log Level"}),s.jsxs(u,{value:D,onValueChange:R,children:[s.jsx(v,{children:s.jsx(p,{placeholder:"All levels"})}),s.jsxs(N,{children:[s.jsx(y,{value:"all",children:"All levels"}),s.jsx(y,{value:"critical",children:"Critical"}),s.jsx(y,{value:"error",children:"Error"}),s.jsx(y,{value:"warn",children:"Warning"}),s.jsx(y,{value:"info",children:"Info"}),s.jsx(y,{value:"debug",children:"Debug"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(d,{children:"Service Name"}),s.jsx(o,{placeholder:"Filter by service...",value:q,onChange:e=>z(e.target.value)})]})]})})]}),s.jsxs(t,{children:[s.jsxs(c,{children:[s.jsxs(i,{children:["Error Logs (",r.length,")"]}),s.jsx(x,{children:"Recent errors and warnings from the application"})]}),s.jsx(n,{children:s.jsx("div",{className:"space-y-2",children:0===r.length?s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(m,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"No logs found"}),s.jsx("p",{className:"text-sm",children:"Try adjusting your filters or create a test error"})]}):r.map(e=>{const r=B.has(e.id);return s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"p-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>(e=>{const s=new Set(B);s.has(e)?s.delete(e):s.add(e),F(s)})(e.id),children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[r?s.jsx(h,{className:"w-5 h-5 text-gray-400 mt-1"}):s.jsx(w,{className:"w-5 h-5 text-gray-400 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsxs(g,{className:V(e.level),children:[J(e.level),s.jsx("span",{className:"ml-1",children:e.level.toUpperCase()})]}),e.serviceName&&s.jsx(g,{variant:"outline",children:e.serviceName}),e.errorType&&s.jsx(g,{variant:"secondary",children:e.errorType}),s.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:new Date(e.timestamp).toLocaleString()})]}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.message}),e.endpoint&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Endpoint: ",e.endpoint]})]})]})})}),r&&s.jsxs("div",{className:"border-t bg-gray-50 p-4 space-y-3",children:[e.stackTrace&&s.jsxs("div",{children:[s.jsx(d,{className:"text-xs font-semibold text-gray-700",children:"Stack Trace"}),s.jsx("pre",{className:"mt-1 text-xs bg-gray-900 text-gray-100 p-3 rounded overflow-x-auto",children:e.stackTrace})]}),e.metadata&&Object.keys(e.metadata).length>0&&s.jsxs("div",{children:[s.jsx(d,{className:"text-xs font-semibold text-gray-700",children:"Metadata"}),s.jsx("pre",{className:"mt-1 text-xs bg-gray-900 text-gray-100 p-3 rounded overflow-x-auto",children:JSON.stringify(e.metadata,null,2)})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs",children:[e.requestId&&s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-gray-700",children:"Request ID:"}),s.jsx("div",{className:"text-gray-600",children:e.requestId})]}),e.userId&&s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-gray-700",children:"User ID:"}),s.jsx("div",{className:"text-gray-600",children:e.userId})]}),e.ipAddress&&s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-gray-700",children:"IP Address:"}),s.jsx("div",{className:"text-gray-600",children:e.ipAddress})]}),e.environment&&s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-gray-700",children:"Environment:"}),s.jsx("div",{className:"text-gray-600",children:e.environment})]})]})]})]},e.id)})})})]})]})}export{C as LogsViewer};
