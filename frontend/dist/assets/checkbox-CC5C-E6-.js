import{r as e,j as r,c as t,d as n,P as a,b as o,u as s,e as c,L as d,M as i}from"./ui-DlaF13aT.js";import{p as u}from"./index-Bz8mWo3A.js";import{C as l}from"./check-DuVLnFDe.js";var p="Checkbox",[b]=t(p),[h,f]=b(p);function k(t){const{__scopeCheckbox:n,checked:a,children:s,defaultChecked:c,disabled:d,form:i,name:u,onCheckedChange:l,required:b,value:f="on",internal_do_not_use_render:k}=t,[m,C]=o({prop:a,defaultProp:c??!1,onChange:l,caller:p}),[x,v]=e.useState(null),[g,_]=e.useState(null),y=e.useRef(!1),E=!x||(!!i||!!x.closest("form")),R={checked:m,disabled:d,setChecked:C,control:x,setControl:v,name:u,form:i,value:f,hasConsumerStoppedPropagationRef:y,required:b,defaultChecked:!w(c)&&c,isFormControl:E,bubbleInput:g,setBubbleInput:_};return r.jsx(h,{scope:n,...R,children:j(k)?k(R):s})}var m="CheckboxTrigger",C=e.forwardRef(({__scopeCheckbox:t,onKeyDown:n,onClick:o,...d},i)=>{const{control:u,value:l,disabled:p,checked:b,required:h,setControl:k,setChecked:C,hasConsumerStoppedPropagationRef:x,isFormControl:v,bubbleInput:g}=f(m,t),_=s(i,k),y=e.useRef(b);return e.useEffect(()=>{const e=null==u?void 0:u.form;if(e){const r=()=>C(y.current);return e.addEventListener("reset",r),()=>e.removeEventListener("reset",r)}},[u,C]),r.jsx(a.button,{type:"button",role:"checkbox","aria-checked":w(b)?"mixed":b,"aria-required":h,"data-state":E(b),"data-disabled":p?"":void 0,disabled:p,value:l,...d,ref:_,onKeyDown:c(n,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:c(o,e=>{C(e=>!!w(e)||!e),g&&v&&(x.current=e.isPropagationStopped(),x.current||e.stopPropagation())})})});C.displayName=m;var x=e.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:a,checked:o,defaultChecked:s,required:c,disabled:d,value:i,onCheckedChange:u,form:l,...p}=e;return r.jsx(k,{__scopeCheckbox:n,checked:o,defaultChecked:s,disabled:d,required:c,onCheckedChange:u,name:a,form:l,value:i,internal_do_not_use_render:({isFormControl:e})=>r.jsxs(r.Fragment,{children:[r.jsx(C,{...p,ref:t,__scopeCheckbox:n}),e&&r.jsx(y,{__scopeCheckbox:n})]})})});x.displayName=p;var v="CheckboxIndicator",g=e.forwardRef((e,t)=>{const{__scopeCheckbox:o,forceMount:s,...c}=e,d=f(v,o);return r.jsx(n,{present:s||w(d.checked)||!0===d.checked,children:r.jsx(a.span,{"data-state":E(d.checked),"data-disabled":d.disabled?"":void 0,...c,ref:t,style:{pointerEvents:"none",...e.style}})})});g.displayName=v;var _="CheckboxBubbleInput",y=e.forwardRef(({__scopeCheckbox:t,...n},o)=>{const{control:c,hasConsumerStoppedPropagationRef:u,checked:l,defaultChecked:p,required:b,disabled:h,name:k,value:m,form:C,bubbleInput:x,setBubbleInput:v}=f(_,t),g=s(o,v),y=d(l),j=i(c);e.useEffect(()=>{const e=x;if(!e)return;const r=window.HTMLInputElement.prototype,t=Object.getOwnPropertyDescriptor(r,"checked").set,n=!u.current;if(y!==l&&t){const r=new Event("click",{bubbles:n});e.indeterminate=w(l),t.call(e,!w(l)&&l),e.dispatchEvent(r)}},[x,y,l,u]);const E=e.useRef(!w(l)&&l);return r.jsx(a.input,{type:"checkbox","aria-hidden":!0,defaultChecked:p??E.current,required:b,disabled:h,name:k,value:m,form:C,...n,tabIndex:-1,ref:g,style:{...n.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function j(e){return"function"==typeof e}function w(e){return"indeterminate"===e}function E(e){return w(e)?"indeterminate":e?"checked":"unchecked"}function R({className:e,...t}){return r.jsx(x,{"data-slot":"checkbox",className:u("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(g,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:r.jsx(l,{className:"size-3.5"})})})}y.displayName=_;export{R as C};
