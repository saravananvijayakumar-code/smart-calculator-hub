import{r as e,b as t,j as n,c as r,a as o,e as i,P as a,u as l,p as s,K as d,M as u,L as c}from"./ui-DlaF13aT.js";import{p as f}from"./index-Bz8mWo3A.js";var m=["PageUp","PageDown"],p=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],v={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},h="Slider",[w,g,S]=o(h),[b]=r(h,[S]),[x,y]=b(h),D=e.forwardRef((r,o)=>{const{name:a,min:l=0,max:s=100,step:u=1,orientation:c="horizontal",disabled:f=!1,minStepsBetweenThumbs:v=0,defaultValue:h=[l],value:g,onValueChange:S=()=>{},onValueCommit:b=()=>{},inverted:y=!1,form:D,...j}=r,R=e.useRef(new Set),M=e.useRef(0),P="horizontal"===c?_:E,[A=[],K]=t({prop:g,defaultProp:h,onChange:e=>{var t;null==(t=[...R.current][M.current])||t.focus(),S(e)}}),k=e.useRef(A);function z(e,t,{commit:n}={commit:!1}){const r=function(e){return(String(e).split(".")[1]||"").length}(u),o=function(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}(Math.round((e-l)/u)*u+l,r),i=d(o,[l,s]);K((e=[])=>{const r=function(e=[],t,n){const r=[...e];return r[n]=t,r.sort((e,t)=>e-t)}(e,i,t);if(function(e,t){if(t>0){const n=function(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}(e);return Math.min(...n)>=t}return!0}(r,v*u)){M.current=r.indexOf(i);const t=String(r)!==String(e);return t&&n&&b(r),t?r:e}return e})}return n.jsx(x,{scope:r.__scopeSlider,name:a,disabled:f,min:l,max:s,valueIndexToChangeRef:M,thumbs:R.current,values:A,orientation:c,form:D,children:n.jsx(w.Provider,{scope:r.__scopeSlider,children:n.jsx(w.Slot,{scope:r.__scopeSlider,children:n.jsx(P,{"aria-disabled":f,"data-disabled":f?"":void 0,...j,ref:o,onPointerDown:i(j.onPointerDown,()=>{f||(k.current=A)}),min:l,max:s,inverted:y,onSlideStart:f?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const n=e.map(e=>Math.abs(e-t)),r=Math.min(...n);return n.indexOf(r)}(A,e);z(e,t)},onSlideMove:f?void 0:function(e){z(e,M.current)},onSlideEnd:f?void 0:function(){const e=k.current[M.current];A[M.current]!==e&&b(A)},onHomeKeyDown:()=>!f&&z(l,0,{commit:!0}),onEndKeyDown:()=>!f&&z(s,A.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!f){const n=m.includes(e.key)||e.shiftKey&&p.includes(e.key)?10:1,r=M.current;z(A[r]+u*n*t,r,{commit:!0})}}})})})})});D.displayName=h;var[j,R]=b(h,{startEdge:"left",endEdge:"right",size:"width",direction:1}),_=e.forwardRef((t,r)=>{const{min:o,max:i,dir:a,inverted:d,onSlideStart:u,onSlideMove:c,onSlideEnd:f,onStepKeyDown:m,...p}=t,[h,w]=e.useState(null),g=l(r,e=>w(e)),S=e.useRef(void 0),b=s(a),x="ltr"===b,y=x&&!d||!x&&d;function D(e){const t=S.current||h.getBoundingClientRect(),n=V([0,t.width],y?[o,i]:[i,o]);return S.current=t,n(e-t.left)}return n.jsx(j,{scope:t.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:n.jsx(M,{dir:b,"data-orientation":"horizontal",...p,ref:g,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const t=D(e.clientX);null==u||u(t)},onSlideMove:e=>{const t=D(e.clientX);null==c||c(t)},onSlideEnd:()=>{S.current=void 0,null==f||f()},onStepKeyDown:e=>{const t=v[y?"from-left":"from-right"].includes(e.key);null==m||m({event:e,direction:t?-1:1})}})})}),E=e.forwardRef((t,r)=>{const{min:o,max:i,inverted:a,onSlideStart:s,onSlideMove:d,onSlideEnd:u,onStepKeyDown:c,...f}=t,m=e.useRef(null),p=l(r,m),h=e.useRef(void 0),w=!a;function g(e){const t=h.current||m.current.getBoundingClientRect(),n=V([0,t.height],w?[i,o]:[o,i]);return h.current=t,n(e-t.top)}return n.jsx(j,{scope:t.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:n.jsx(M,{"data-orientation":"vertical",...f,ref:p,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const t=g(e.clientY);null==s||s(t)},onSlideMove:e=>{const t=g(e.clientY);null==d||d(t)},onSlideEnd:()=>{h.current=void 0,null==u||u()},onStepKeyDown:e=>{const t=v[w?"from-bottom":"from-top"].includes(e.key);null==c||c({event:e,direction:t?-1:1})}})})}),M=e.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:o,onSlideMove:l,onSlideEnd:s,onHomeKeyDown:d,onEndKeyDown:u,onStepKeyDown:c,...f}=e,v=y(h,r);return n.jsx(a.span,{...f,ref:t,onKeyDown:i(e.onKeyDown,e=>{"Home"===e.key?(d(e),e.preventDefault()):"End"===e.key?(u(e),e.preventDefault()):m.concat(p).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:i(e.onPointerDown,e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),v.thumbs.has(t)?t.focus():o(e)}),onPointerMove:i(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&l(e)}),onPointerUp:i(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),s(e))})})}),P="SliderTrack",A=e.forwardRef((e,t)=>{const{__scopeSlider:r,...o}=e,i=y(P,r);return n.jsx(a.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...o,ref:t})});A.displayName=P;var K="SliderRange",k=e.forwardRef((t,r)=>{const{__scopeSlider:o,...i}=t,s=y(K,o),d=R(K,o),u=e.useRef(null),c=l(r,u),f=s.values.length,m=s.values.map(e=>H(e,s.min,s.max)),p=f>1?Math.min(...m):0,v=100-Math.max(...m);return n.jsx(a.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...i,ref:c,style:{...t.style,[d.startEdge]:p+"%",[d.endEdge]:v+"%"}})});k.displayName=K;var z="SliderThumb",C=e.forwardRef((t,r)=>{const o=g(t.__scopeSlider),[i,a]=e.useState(null),s=l(r,e=>a(e)),d=e.useMemo(()=>i?o().findIndex(e=>e.ref.current===i):-1,[o,i]);return n.jsx(I,{...t,ref:s,index:d})}),I=e.forwardRef((t,r)=>{const{__scopeSlider:o,index:s,name:d,...c}=t,f=y(z,o),m=R(z,o),[p,v]=e.useState(null),h=l(r,e=>v(e)),g=!p||(f.form||!!p.closest("form")),S=u(p),b=f.values[s],x=void 0===b?0:H(b,f.min,f.max),D=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(s,f.values.length),j=null==S?void 0:S[m.size],_=j?function(e,t,n){const r=e/2,o=V([0,50],[0,r]);return(r-o(t)*n)*n}(j,x,m.direction):0;return e.useEffect(()=>{if(p)return f.thumbs.add(p),()=>{f.thumbs.delete(p)}},[p,f.thumbs]),n.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[m.startEdge]:`calc(${x}% + ${_}px)`},children:[n.jsx(w.ItemSlot,{scope:t.__scopeSlider,children:n.jsx(a.span,{role:"slider","aria-label":t["aria-label"]||D,"aria-valuemin":f.min,"aria-valuenow":b,"aria-valuemax":f.max,"aria-orientation":f.orientation,"data-orientation":f.orientation,"data-disabled":f.disabled?"":void 0,tabIndex:f.disabled?void 0:0,...c,ref:h,style:void 0===b?{display:"none"}:t.style,onFocus:i(t.onFocus,()=>{f.valueIndexToChangeRef.current=s})})}),g&&n.jsx(N,{name:d??(f.name?f.name+(f.values.length>1?"[]":""):void 0),form:f.form,value:b},s)]})});C.displayName=z;var N=e.forwardRef(({__scopeSlider:t,value:r,...o},i)=>{const s=e.useRef(null),d=l(s,i),u=c(r);return e.useEffect(()=>{const e=s.current;if(!e)return;const t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(u!==r&&n){const t=new Event("input",{bubbles:!0});n.call(e,r),e.dispatchEvent(t)}},[u,r]),n.jsx(a.input,{style:{display:"none"},...o,ref:d,defaultValue:r})});function H(e,t,n){return d(100/(n-t)*(e-t),[0,100])}function V(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}N.displayName="RadioBubbleInput";var L=D,T=A,U=k,B=C;function O({className:t,defaultValue:r,value:o,min:i=0,max:a=100,...l}){const s=e.useMemo(()=>Array.isArray(o)?o:Array.isArray(r)?r:[i,a],[o,r,i,a]);return n.jsxs(L,{"data-slot":"slider",defaultValue:r,value:o,min:i,max:a,className:f("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...l,children:[n.jsx(T,{"data-slot":"slider-track",className:f("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:n.jsx(U,{"data-slot":"slider-range",className:f("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:s.length},(e,t)=>n.jsx(B,{"data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},t))]})}export{O as S};
