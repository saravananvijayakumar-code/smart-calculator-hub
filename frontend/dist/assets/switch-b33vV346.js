import{r as e,u as t,b as a,j as r,c as s,P as n,e as c,L as d,M as o}from"./ui-DlaF13aT.js";import{p as i}from"./index-Bz8mWo3A.js";var l="Switch",[u]=s(l),[b,p]=u(l),h=e.forwardRef((s,d)=>{const{__scopeSwitch:o,name:i,checked:u,defaultChecked:p,required:h,disabled:f,value:k="on",onCheckedChange:w,form:x,...v}=s,[y,j]=e.useState(null),S=t(d,e=>j(e)),C=e.useRef(!1),N=!y||(x||!!y.closest("form")),[_,E]=a({prop:u,defaultProp:p??!1,onChange:w,caller:l});return r.jsxs(b,{scope:o,checked:_,disabled:f,children:[r.jsx(n.button,{type:"button",role:"switch","aria-checked":_,"aria-required":h,"data-state":g(_),"data-disabled":f?"":void 0,disabled:f,value:k,...v,ref:S,onClick:c(s.onClick,e=>{E(e=>!e),N&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),N&&r.jsx(m,{control:y,bubbles:!C.current,name:i,value:k,checked:_,required:h,disabled:f,form:x,style:{transform:"translateX(-100%)"}})]})});h.displayName=l;var f="SwitchThumb",k=e.forwardRef((e,t)=>{const{__scopeSwitch:a,...s}=e,c=p(f,a);return r.jsx(n.span,{"data-state":g(c.checked),"data-disabled":c.disabled?"":void 0,...s,ref:t})});k.displayName=f;var m=e.forwardRef(({__scopeSwitch:a,control:s,checked:n,bubbles:c=!0,...i},l)=>{const u=e.useRef(null),b=t(u,l),p=d(n),h=o(s);return e.useEffect(()=>{const e=u.current;if(!e)return;const t=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(t,"checked").set;if(p!==n&&a){const t=new Event("click",{bubbles:c});a.call(e,n),e.dispatchEvent(t)}},[p,n,c]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:b,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function g(e){return e?"checked":"unchecked"}m.displayName="SwitchBubbleInput";var w=h,x=k;function v({className:e,...t}){return r.jsx(w,{"data-slot":"switch",className:i("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(x,{"data-slot":"switch-thumb",className:i("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}export{v as S};
